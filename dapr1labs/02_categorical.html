<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Categorical data</title>

<script src="site_libs/header-attrs-2.8/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<script>
function toggle_visibility(id1, id2) {
var e = document.getElementById(id1);
var f = document.getElementById(id2);
e.style.display = ((e.style.display!='none') ? 'none' : 'block');
if(f.classList.contains('fa-plus')) {
    f.classList.add('fa-minus')
    f.classList.remove('fa-plus')
} else {
    f.classList.add('fa-plus')
    f.classList.remove('fa-minus')
}
}
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="assets/style-labs.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"><strong>DAPR1</strong></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li>
  <a href="intro_r_rstudio_year1.html">DAPR1 starts here</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Intro to data and R
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="01_data_types.html">1/1: Collecting data</a>
    </li>
    <li>
      <a href="02_categorical.html">1/2: Categorical data</a>
    </li>
    <li>
      <a href="03_numerical.html">1/3: Numerical data</a>
    </li>
    <li>
      <a href="04_relationships.html">1/4: Relationships</a>
    </li>
    <li>
      <a href="05_functions.html">1/5: Types of relations</a>
    </li>
    <li class="dropdown-header">1/6: Break week!</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Probability &amp; sampling
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="07_probability_basics.html">1/7: Probability basics</a>
    </li>
    <li>
      <a href="08_probability_rules.html">1/8: Probability rules!</a>
    </li>
    <li>
      <a href="09_discrete_distributions.html">1/9: Discrete random variables</a>
    </li>
    <li>
      <a href="10_continuous_distributions.html">1/10: Continuous random variables</a>
    </li>
    <li>
      <a href="11_sampling_distributions.html">1/11: Sampling distributions</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Hypothesis testing
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="12_bootstrap_cis.html">2/1: Bootstrap &amp; CIs</a>
    </li>
    <li>
      <a href="13_hypothesis_testing.html">2/2: Hypothesis testing: p-values</a>
    </li>
    <li>
      <a href="14_critical_values.html">2/3: Hypothesis testing: critical values</a>
    </li>
    <li>
      <a href="15_connecting_ci_ht.html">2/4: Hypothesis testing &amp; CIs</a>
    </li>
    <li>
      <a href="16_ht_errors.html">2/5: Making decisions</a>
    </li>
    <li class="dropdown-header">2/6: Break week</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Basic tests
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="17_one_sample_mean.html">2/7: Test for one mean</a>
    </li>
    <li>
      <a href="18_two_sample_means.html">2/8: Test for two means</a>
    </li>
    <li>
      <a href="19_paired_t_test.html">2/9: Test for paired samples</a>
    </li>
    <li>
      <a href="20_chi_square.html">2/10: Chi-square</a>
    </li>
    <li>
      <a href="21_covcor.html">2/11: Covariance and correlation</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Categorical data</h1>

</div>


<!-- # Handling categorical data {#chap-categorical} -->
<div class="green">
<p>Be sure to check the <a href="01_data_types.html"><strong>solutions to last week’s exercises</strong></a>.<br>You can still ask any questions about previous weeks’ materials if things aren’t clear!</p>
</div>
<div class="lo">
<p><strong>LEARNING OBJECTIVES</strong></p>
<ul>
<li>LO1: Understand the appropriate visualization for categorical data.</li>
<li>LO2: Understand methods to calculate the spread of categorical data.</li>
<li>LO3: Understand methods to calculate central tendency for categorical data</li>
</ul>
</div>
<p>Before we get started on the statistics, we’re going to briefly introduce a crucial bit of R code.</p>
<div class="optional-begin">
IMPORTANT READING: A different style of R code. Click the plus to expand →<span id="opt-start-12" class="fa fa-plus optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-12&#39;, &#39;opt-start-12&#39;)"></span>
</div>
<div id="opt-body-12" class="optional-body" style="display: none;">
<p>We have seen already seen a few examples of R code such as:</p>
<pre class="r"><code># show the dimensions of the data
dim(somedata)

# show a summary of the data
summary(somedata)

# factorise and show the &quot;somevariable&quot; variable in the &quot;somedata&quot; dataframe 
as.factor(somedata$somevariable)</code></pre>
<p>And we can actually wrap functions inside functions:</p>
<pre class="r"><code># factorise the &quot;somevariable&quot; variable in the &quot;somedata&quot; dataframe, 
# then show a summary of it
summary(as.factor(somedata$somevariable))</code></pre>
<div class="yellow">
<p><strong>R evaluates code from the inside-out!</strong></p>
<p>You can end up with functions inside functions inside functions …</p>
<pre class="r"><code># Don&#39;t worry about what all these functions do, 
# it&#39;s just an example -
round(mean(log(cumsum(diff(1:10)))))</code></pre>
<pre><code>## [1] 1</code></pre>
</div>
<p>We can write in a different style, however, and this may help to keep code tidy and easily readable - we can write <strong>sequentially</strong>:</p>
<p><img src="images/categorical/pipes.png" /></p>
<p>Notice that what we are doing is using a new symbol: <code>%&gt;%</code><br />
This symbol takes the output of whatever is on it’s left-hand side, and uses it as an <em>input</em> for whatever is on the right-hand side. The <code>%&gt;%</code> symbol gets called a “pipe”.</p>
<p>Let’s see it in action with the starwars2 dataset from the previous lab. First we need to load the tidyverse packages, because that is where <code>%&gt;%</code> is found.</p>
<pre class="r"><code>library(tidyverse)

starwars2 %&gt;%
    summary()</code></pre>
<pre><code>##      name               height       hair_color         eye_color        
##  Length:75          Min.   : 79.0   Length:75          Length:75         
##  Class :character   1st Qu.:167.5   Class :character   Class :character  
##  Mode  :character   Median :180.0   Mode  :character   Mode  :character  
##                     Mean   :176.1                                        
##                     3rd Qu.:191.0                                        
##                     Max.   :264.0                                        
##   homeworld           species         
##  Length:75          Length:75         
##  Class :character   Class :character  
##  Mode  :character   Mode  :character  
##                                       
##                                       
## </code></pre>
<p>We can now write code that requires reading it from the inside-out:</p>
<pre class="r"><code>summary(as.factor(starwars2$homeworld))</code></pre>
<p>or which requires reading it from left to right:</p>
<pre class="r"><code>starwars2$homeworld %&gt;%
    as.factor() %&gt;%
    summary()</code></pre>
<pre><code>##       Alderaan    Aleen Minor         Bespin     Bestine IV Cato Neimoidia 
##              3              1              1              1              1 
##          Cerea       Champala      Chandrila   Concord Dawn       Corellia 
##              1              1              1              1              2 
##      Coruscant       Dathomir          Dorin          Endor         Eriadu 
##              3              1              1              1              1 
##       Geonosis    Glee Anselm     Haruun Kal        Iktotch       Iridonia 
##              1              1              1              1              1 
##          Kalee         Kamino       Kashyyyk      Malastare         Mirial 
##              1              3              2              1              2 
##       Mon Cala     Muunilinst          Naboo      Nal Hutta           Ojom 
##              1              1              8              1              1 
##        Quermia          Rodia         Ryloth        Serenno          Shili 
##              1              1              2              1              1 
##          Skako        Socorro    Springfield        Stewjon        Sullust 
##              1              1              2              1              1 
##       Tatooine       Toydaria      Trandosha        Troiken           Tund 
##             10              1              1              1              1 
##         Utapau        Vulpter          Zolan 
##              1              1              1</code></pre>
<p>And that long line of code from above:</p>
<pre class="r"><code># again, don&#39;t worry about all these functions, 
# just notice the difference in the two styles.
round(mean(log(cumsum(diff(1:10)))))</code></pre>
<p>becomes:</p>
<pre class="r"><code>1:10 %&gt;%
    diff() %&gt;%
    cumsum() %&gt;%
    log() %&gt;%
    mean() %&gt;%
    round()</code></pre>
<p><br>
We’re going to use this way of writing a lot throughout the course, and it pairs really well with a group of functions in the <strong>tidyverse</strong> packages, which were designed to be used in conjunction with <code>%&gt;%</code>, a couple of which you will learn about in this lab.</p>
</div>
<p class="optional-end">
</p>
<div id="data-exploration" class="section level1">
<h1>Data Exploration</h1>
<p>Once we have collected some data, one of the first things we want to do is explore it - and we can do this through describing (or summarising) and visualising variables.</p>
<p>We are already familiar with the function <code>summary()</code>, which provides high-level information about our data, showing us things such as the minimum and maximum and mean of continuous variables, or the numbers of entries falling into each possible response level for a categorical variable:</p>
<pre class="r"><code>summary(starwars2)</code></pre>
<pre><code>##      name               height       hair_color         eye_color        
##  Length:75          Min.   : 79.0   Length:75          Length:75         
##  Class :character   1st Qu.:167.5   Class :character   Class :character  
##  Mode  :character   Median :180.0   Mode  :character   Mode  :character  
##                     Mean   :176.1                                        
##                     3rd Qu.:191.0                                        
##                     Max.   :264.0                                        
##   homeworld           species         
##  Length:75          Length:75         
##  Class :character   Class :character  
##  Mode  :character   Mode  :character  
##                                       
##                                       
## </code></pre>
<p>What we are doing here is providing numeric descriptions of the <strong>distributions</strong> of values in each variable.</p>
<div class="yellow">
<p><strong>Distribution</strong></p>
<p>The distribution of a variable shows how often different values occur. In this lab, we’re going to focus on describing and visualising distributions of categorical data.</p>
<p>The graph showing the distribution of a variable shows us where the values are centred, how the values vary, and gives some information about where a typical value might fall. It can also alert you to the presence of outliers (unexpected observations).</p>
</div>
</div>
<div id="unordered-categorical-nominal-data" class="section level1">
<h1>Unordered Categorical (Nominal) Data</h1>
<p>For variables with a discrete number of response options, we can easily measure “how often” values occur in terms of their <strong>frequency</strong>.</p>
<div class="yellow">
<p><strong>Frequency distribution</strong></p>
<p>A frequency distribution is an overview of all distinct values in some variable and the <strong>number of times</strong> they occur.</p>
</div>
<p>Supposing that we have surveyed the people working in a psychology department and asked them what sub-discipline of psychological research they most strongly identify as working within (If you would like to work along with the reading, the data is available at <a href="https://uoepsy.github.io/data/psych_survey.csv" class="uri">https://uoepsy.github.io/data/psych_survey.csv</a>).</p>
<table>
<thead>
<tr class="header">
<th>Variable Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>participant</td>
<td>Subject identifier</td>
</tr>
<tr class="even">
<td>area</td>
<td>Respondent’s sub-discpline of psychology</td>
</tr>
</tbody>
</table>
<p><br>
First, we read our data in to R and store it in an object called “psych_disciplines”:</p>
<pre class="r"><code>psych_disciplines &lt;- read_csv(&quot;https://uoepsy.github.io/data/psych_survey.csv&quot;)
psych_disciplines</code></pre>
<pre><code>## # A tibble: 74 x 2
##    participant   area                  
##    &lt;chr&gt;         &lt;chr&gt;                 
##  1 respondent_1  Differential          
##  2 respondent_2  Social                
##  3 respondent_3  Differential          
##  4 respondent_4  Social                
##  5 respondent_5  Differential          
##  6 respondent_6  Differential          
##  7 respondent_7  Language              
##  8 respondent_8  Language              
##  9 respondent_9  Cognitive Neuroscience
## 10 respondent_10 Language              
## # … with 64 more rows</code></pre>
<p>We can get the frequencies of different response levels of the <em>discipline</em> variable by using the following code:</p>
<pre class="r"><code># start with the psych_disciplines dataframe 
# %&gt;%
# count() the values in the &quot;area&quot; variable 
psych_disciplines %&gt;%
    count(area)</code></pre>
<pre><code>## # A tibble: 5 x 2
##   area                       n
##   &lt;chr&gt;                  &lt;int&gt;
## 1 Cognitive Neuroscience    24
## 2 Developmental             10
## 3 Differential              20
## 4 Language                   9
## 5 Social                    11</code></pre>
<div class="optional-begin">
Extra detail on how this works. Click the plus to expand →<span id="opt-start-13" class="fa fa-plus optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-13&#39;, &#39;opt-start-13&#39;)"></span>
</div>
<div id="opt-body-13" class="optional-body" style="display: none;">
<p>In the code above, R knows to look for the <em>area</em> variable inside the psych_disciplines data because we used <code>%&gt;%</code> to “pipe” in the psych_disciplines dataframe.<br />
We could have also done:</p>
<pre class="r"><code># count(data, variable)
count(psych_disciplines, area)</code></pre>
<pre><code>## # A tibble: 5 x 2
##   area                       n
##   &lt;chr&gt;                  &lt;int&gt;
## 1 Cognitive Neuroscience    24
## 2 Developmental             10
## 3 Differential              20
## 4 Language                   9
## 5 Social                    11</code></pre>
<p>But this would not work:</p>
<pre class="r"><code>count(area)</code></pre>
<p style="color:red">
Error in group_vars(x) : object ‘area’ not found
</p>
</div>
<p class="optional-end">
</p>
<div id="frequency-table" class="section level2 unnumbered">
<h2>Frequency table</h2>
<p>To describe a distribution like this, we can simply provide the frequency table.<br />
Let’s store it as an object in R:</p>
<pre class="r"><code># make a new object called &quot;freq_table&quot;, and assign it:
# the counts of values of &quot;area&quot; variable in 
# the psych_discipline dataframe.
freq_table &lt;- 
    psych_disciplines %&gt;%
    count(area)

# show the object called &quot;freq_table&quot;
freq_table</code></pre>
<pre><code>## # A tibble: 5 x 2
##   area                       n
##   &lt;chr&gt;                  &lt;int&gt;
## 1 Cognitive Neuroscience    24
## 2 Developmental             10
## 3 Differential              20
## 4 Language                   9
## 5 Social                    11</code></pre>
<p>For a report, we might want to make it a little more easily readable:</p>
</div>
<div id="central-tendency" class="section level2 unnumbered">
<h2>Central tendency</h2>
<p>Often, we might want to summarise data into a single summary value, reflecting the point at (or around) which most of the values tend to cluster. This is known as a measure of <strong>central tendency.</strong> For numeric data, we can use measures such as the mean, which you will likely have heard of. For nominal data (unordered categorical data), however, our only option is to use the <strong>mode</strong>.</p>
<div class="yellow">
<p><strong>Mode</strong></p>
<p>The most frequent value (the value that occurs the greatest number of times).</p>
</div>
<p>In our case, the mode is the “Cognitive Neuroscience” category.</p>
</div>
<div id="relative-frequencies" class="section level2 unnumbered">
<h2>Relative frequencies</h2>
<p>We might alternatively want to show the <em>percentage</em> of respondents in each category, rather than the raw frequencies.<br />
The percentages show the <strong>relative frequency distribution</strong></p>
<div class="yellow">
<p><strong>Relative frequency distribution</strong></p>
<p>A relative frequency distribution shows the <strong>proportion of times</strong> each value occurs<br />
(contrast this with the frequency distribution which shows the <strong>number</strong> of times).<br />
Relative frequencies can be written as fractions, percents, or decimals.</p>
</div>
<p>In the object “freq_table”, we have a variable called <em>n</em>, which is the frequencies (the number in each category).<br />
The total of this column is equal to the total number of respondents:</p>
<pre class="r"><code># sum all the values in the &quot;n&quot; variable in the &quot;freq_table&quot; object
sum(freq_table$n)</code></pre>
<pre><code>## [1] 74</code></pre>
<p>And therefore, each value in <code>freq_table$n</code>, divided by the total, is equal to the proportion in each category:<br />
( <strong>Tip:</strong> Proportions are percentages/100. So 0.4 is another way of expressing 40%)</p>
<pre class="r"><code># take the values in the &quot;n&quot; variable from the &quot;freq_table&quot; object, 
# and divide by the sum of all the values in the &quot;n&quot; variable in &quot;freq_table&quot;
freq_table$n/sum(freq_table$n)</code></pre>
<pre><code>## [1] 0.3243243 0.1351351 0.2702703 0.1216216 0.1486486</code></pre>
<p>We can then simply add the proportions as a new column to our table of frequencies by assigning the values we just calculated to a new variable:</p>
<pre class="r"><code># the variable &quot;prop&quot; in the &quot;freq_table&quot; object is now assigned 
# the values we calculated above (the proportions)
freq_table$prop &lt;- freq_table$n/sum(freq_table$n)

# print the &quot;freq_table&quot; object
freq_table</code></pre>
<pre><code>## # A tibble: 5 x 3
##   area                       n  prop
##   &lt;chr&gt;                  &lt;int&gt; &lt;dbl&gt;
## 1 Cognitive Neuroscience    24 0.324
## 2 Developmental             10 0.135
## 3 Differential              20 0.270
## 4 Language                   9 0.122
## 5 Social                    11 0.149</code></pre>
<p><br>
However, we can also do this within a sequence of pipes (<code>%&gt;%</code>). To do so, we use a new function called <code>mutate()</code>.</p>
<div class="yellow">
<p><strong>mutate()</strong></p>
<p>The <code>mutate()</code> function is used to add or modify variables to data.</p>
<pre class="r"><code># take the data
# %&gt;%
# mutate it, such that there is a variable called &quot;newvariable&quot;, which
# has the values of a variable called &quot;oldvariable&quot; multiplied by two.
data %&gt;%
  mutate(
    newvariable = oldvariable * 2
  )</code></pre>
<p><strong>Note:</strong> Inside <code>mutate()</code>, we don’t have to keep using the dollar sign <code>$</code>, as we have already told it what data to look for variables in.</p>
<p>To ensure that our additions/modifications of variables are stored in R’s environment (rather than simply printed out), we need to <em>reassign</em> the name of our dataframe:</p>
<pre class="r"><code>data &lt;- 
  data %&gt;%
  mutate(
    newvariable = oldvariable * 2
  )</code></pre>
</div>
<p>We can actually <em>add this step to our earlier code:</em></p>
<pre class="r"><code># make a new object called &quot;freq_table&quot;, and assign it:
# the counts of values of &quot;area&quot; variable in 
# the psych_discipline dataframe.
# from there, &#39;mutate&#39; such that there is a variable called &quot;prop&quot; which
# has the values of the &quot;n&quot; variable divided by the sum of the &quot;n&quot; variable.
freq_table &lt;- 
  psych_disciplines %&gt;%
  count(area) %&gt;%
  mutate(
    prop = n/sum(n)
  )

# show the object called &quot;freq_table&quot;
freq_table</code></pre>
<pre><code>## # A tibble: 5 x 3
##   area                       n  prop
##   &lt;chr&gt;                  &lt;int&gt; &lt;dbl&gt;
## 1 Cognitive Neuroscience    24 0.324
## 2 Developmental             10 0.135
## 3 Differential              20 0.270
## 4 Language                   9 0.122
## 5 Social                    11 0.149</code></pre>
</div>
<div id="visualising" class="section level2 unnumbered">
<h2>Visualising</h2>
<div class="frame">
<p><em>“By visualizing information, we turn it into a landscape that you can explore with your eyes. A sort of information map. And when you’re lost in information, an information map is kind of useful.”</em> – <a href="https://informationisbeautiful.net/">David McCandless</a></p>
</div>
<p>We’re going to now make our first steps into the world of data visualisation. R is an incredibly capable language for creating visualisations of almost any kind. It is used by many media companies (e.g., the BBC), and has the capability of producing 3d visualisations, animations, interactive graphs, and more.</p>
<p>We are going to use the most popular R package for visualisation, <strong>ggplot2</strong>. This is actually part of the <strong>tidyverse</strong>, so if we have an Rmarkdown document and have loaded the <strong>tidyverse</strong> packages at the start (by using <code>library(tidyverse)</code>), then <strong>ggplot2</strong> will be loaded too).</p>
<p>Recall our <strong>frequency distribution table:</strong></p>
<pre class="r"><code># show the object called &quot;freq_table&quot;
freq_table</code></pre>
<pre><code>## # A tibble: 5 x 3
##   area                       n  prop
##   &lt;chr&gt;                  &lt;int&gt; &lt;dbl&gt;
## 1 Cognitive Neuroscience    24 0.324
## 2 Developmental             10 0.135
## 3 Differential              20 0.270
## 4 Language                   9 0.122
## 5 Social                    11 0.149</code></pre>
<p>We can plot these values as a bar chart:</p>
<pre class="r"><code>ggplot(data = freq_table, aes(x = area, y = n)) +
    geom_col()</code></pre>
<p><img src="02_categorical_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<div class="figure"><span id="fig:unnamed-chunk-25"></span>
<img src="images/ahorst/ggplot2_masterpiece.png" alt="Artwork by \@allison_horst" width="1040" />
<p class="caption">
Figure 1: Artwork by @allison_horst
</p>
</div>
<div class="yellow">
<p><strong>ggplot components</strong></p>
<p>Note the key components of the ggplot code.</p>
<ul>
<li><code>data =</code> where we provide the name of the dataframe.</li>
<li><code>aes =</code> where we provide the <em>aesthetics</em>. These are things which we map from the data to the graph. For instance, the x-axis, or if we wanted to colour the columns/bars according to some aspect of the data.</li>
</ul>
<p>Then we add (using <code>+</code>) some <em>geometry</em>. These are the shapes (in our case, the columns/bars), which will be put in the correct place according to what we specified in <code>aes()</code>.</p>
<ul>
<li><code>+ geom_col()</code> Adds columns to the plot.</li>
</ul>
</div>
<div class="optional-begin">
Optional - Different aes() and geoms, and labels. Click the plus to expand →<span id="opt-start-14" class="fa fa-plus optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-14&#39;, &#39;opt-start-14&#39;)"></span>
</div>
<div id="opt-body-14" class="optional-body" style="display: none;">
<p>Use these as reference for when you want to make changes to the plots you create.<br />
Additionall, remember that google is your friend - there are endless forums with people asking how to do something in ggplot, and you can just copy and paste bits of code to add to your plots!</p>
<ol style="list-style-type: decimal">
<li>Fill the geoms:</li>
</ol>
<pre class="r"><code>ggplot(data = freq_table, aes(x = area, y = n, fill = area)) +
    geom_col()</code></pre>
<p><img src="02_categorical_files/figure-html/unnamed-chunk-26-1.png" width="672" />
2. Change the axis labels:</p>
<pre class="r"><code>ggplot(data = freq_table, aes(x = area, y = n, fill = area)) +
    geom_col()+
    labs(title=&quot;Counts of respondents by sub-discipline&quot;, y = &quot;Number of respondents&quot;, x = &quot;Sub-discipline&quot;)</code></pre>
<p><img src="02_categorical_files/figure-html/unnamed-chunk-27-1.png" width="672" />
3. Change the geom:<br />
(Note that using <code>geom_col</code> had the y axis starting at 0, but geom_point starts just below the lowest value.</p>
<pre class="r"><code># note that we also need to change &quot;fill = area&quot; to &quot;col = area&quot;. 
ggplot(data = freq_table, aes(x = area, y = n, col = area)) +
    geom_point()+
    labs(title=&quot;Counts of respondents by sub-discipline&quot;, y = &quot;Number of respondents&quot;, x = &quot;Sub-discipline&quot;)</code></pre>
<p><img src="02_categorical_files/figure-html/unnamed-chunk-28-1.png" width="672" />
4. Change the limits of the axes:</p>
<pre class="r"><code>ggplot(data = freq_table, aes(x = area, y = n, fill = area)) +
    geom_col()+
    labs(title=&quot;Counts of respondents by sub-discipline&quot;, y = &quot;Number of respondents&quot;, x = &quot;Sub-discipline&quot;)+
    ylim(0,50)</code></pre>
<p><img src="02_categorical_files/figure-html/unnamed-chunk-29-1.png" width="672" />
5. Remove (or reposition) the legend:</p>
<pre class="r"><code># setting legend.position as &quot;bottom&quot; would put it at the bottom!

ggplot(data = freq_table, aes(x = area, y = n, fill = area)) +
    geom_col()+
    labs(title=&quot;Counts of respondents by sub-discipline&quot;, y = &quot;Number of respondents&quot;, x = &quot;Sub-discipline&quot;)+
    ylim(0,50)+
    theme(legend.position = &quot;none&quot;) </code></pre>
<p><img src="02_categorical_files/figure-html/unnamed-chunk-30-1.png" width="672" />
6. Changing the theme:</p>
<pre class="r"><code># there are many predefine themes, including: 
# theme_bw(), theme_classic(), theme_light()

ggplot(data = freq_table, aes(x = area, y = n, fill = area)) +
    geom_col()+
    labs(title=&quot;Counts of respondents by sub-discipline&quot;, y = &quot;Number of respondents&quot;, x = &quot;Sub-discipline&quot;)+
    ylim(0,50)+
    theme_minimal()</code></pre>
<p><img src="02_categorical_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
</div>
<p class="optional-end">
</p>
</div>
</div>
<div id="ordered-categorical-ordinal-data" class="section level1">
<h1>Ordered Categorical (Ordinal) Data</h1>
<p>Recall that <strong>ordinal</strong> data is categorical data which has a natural ordering of the possible responses.
One of the most common examples of ordinal data which you will encounter in psychology is the <strong>Likert Scale</strong>.
You will probably have come across these before, perhaps when completing online surveys or questionnaires.</p>
<div class="yellow">
<p><strong>Likert Scale</strong></p>
<p>A five or seven point scale on which an individual express how much they agree or disagree with a particular statement.</p>
</div>
<p>With Likert data, there is a set of discrete response options (it is <strong>categorical</strong> data).
The response options can be ranked, making it <strong>ordered categorical</strong> ( <em>strongly disagree</em> &lt; <em>disagree</em> &lt; <em>neither</em> &lt; <em>agree</em> &lt; <em>strongly agree</em> ).
Importantly, the distance between responses is <strong>not</strong> measurable.</p>
<div id="frequency-table-1" class="section level2 unnumbered">
<h2>Frequency table</h2>
<p>Let’s suppose that as well as collecting information on the sub-discipline of psychology they identified with, we also asked our respondents to rate their level of happiness from 1 to 5, as well as their job satisfaction from 1 to 5.</p>
<table>
<thead>
<tr class="header">
<th>Variable Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>participant</td>
<td>Subject identifier</td>
</tr>
<tr class="even">
<td>happiness</td>
<td>Respondent’s level of happiness from 1 to 5</td>
</tr>
<tr class="odd">
<td>job_sat</td>
<td>Respondent’s level of job satisfaction from 1 to 5</td>
</tr>
</tbody>
</table>
<pre class="r"><code>psych_survey &lt;- read_csv(&quot;https://uoepsy.github.io/data/psych_survey2.csv&quot;)
psych_survey</code></pre>
<pre><code>## # A tibble: 74 x 3
##    participant   happiness job_sat
##    &lt;chr&gt;             &lt;dbl&gt;   &lt;dbl&gt;
##  1 respondent_1          3       3
##  2 respondent_2          3       4
##  3 respondent_3          2       5
##  4 respondent_4          4       5
##  5 respondent_5          3       5
##  6 respondent_6          4       4
##  7 respondent_7          4       2
##  8 respondent_8          5       5
##  9 respondent_9          1       5
## 10 respondent_10         3       4
## # … with 64 more rows</code></pre>
<p>For these questions (variables <em>happiness</em> and <em>job_sat</em>), we could do the same thing as we did above for unordered categorical data, and summarise this into frequencies:</p>
<pre class="r"><code># take the &quot;psych_survey&quot; dataframe %&gt;%
# count() the values in the &quot;happiness&quot; variable 
psych_survey %&gt;%
    count(happiness)</code></pre>
<pre><code>## # A tibble: 5 x 2
##   happiness     n
##       &lt;dbl&gt; &lt;int&gt;
## 1         1     6
## 2         2    13
## 3         3    27
## 4         4    21
## 5         5     7</code></pre>
<pre class="r"><code># take the &quot;psych_survey&quot; dataframe %&gt;%
# count() the values in the &quot;job_sat&quot; variable 
psych_survey %&gt;%
    count(job_sat)</code></pre>
<pre><code>## # A tibble: 5 x 2
##   job_sat     n
##     &lt;dbl&gt; &lt;int&gt;
## 1       1     3
## 2       2     6
## 3       3    11
## 4       4    16
## 5       5    38</code></pre>
</div>
<div id="central-tendency-1" class="section level2 unnumbered">
<h2>Central tendency</h2>
<p>We could again use the <strong>Mode</strong> - the most common value - to summarise this data.
However, because the responses are <strong>ordered</strong>, it can be more useful to think about the percentages of respondents in and below/above each category.
For instance, we might want to talk about asking which category has 50% of the observations in a lower category, and 50% of the observations in a higher category. This is mid-point is known as the <strong>Median</strong>.</p>
<div class="yellow">
<p><strong>Median</strong></p>
<p>The value for which 50% of observations a lower and 50% are higher. It is the mid-point of a list of ordered values.</p>
<p>To find the median:</p>
<ol style="list-style-type: decimal">
<li>rank order the values</li>
<li>find the middle value:
<ul>
<li>If there are <span class="math inline">\(n\)</span> values, find the value at position <span class="math inline">\(\frac{n+1}{2}\)</span>.<br />
</li>
<li>If <span class="math inline">\(n\)</span> is even, <span class="math inline">\(\frac{n+1}{2}\)</span> will not be a whole number.<br />
For instance, if <span class="math inline">\(n = 20\)</span>, you are looking for the <span class="math inline">\(\frac{n+1}{2} = \frac{20+1}{2} = 10.5^{th}\)</span> value.
<ul>
<li>When calculating the <strong>median for ordinal data,</strong> if the <span class="math inline">\(\frac{n}{2}^{th}\)</span> and <span class="math inline">\(\frac{n+1}{2}^{th}\)</span> values are different, report both.</li>
<li>When calculating the <strong>median for numeric data,</strong> report the midpoint of the <span class="math inline">\(\frac{n}{2}^{th}\)</span> and <span class="math inline">\(\frac{n+1}{2}^{th}\)</span> values.</li>
</ul></li>
</ul></li>
</ol>
</div>
<p>In the previous lab we discussed how to tell R explicitly that a variable is of a certain type using functions such as <code>as.factor()</code>, <code>as.numeric()</code>, and so on.<br />
You may notice that we haven’t done this yet with the data we have been working with in so far today:</p>
<pre class="r"><code># inside the &quot;psych_survey&quot; dataframe, take ($) the &quot;happiness&quot; variable,
# and tell me what type/class it is
class(psych_survey$happiness)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>This is because <em>there are some benefits to letting R think your data is numeric, even when it is not.</em>
It means we can use functions such as <code>median()</code> to quickly find the median:</p>
<pre class="r"><code># inside the &quot;psych_survey&quot; dataframe, take ($) the &quot;happiness&quot; variable,
# and find the median
median(psych_survey$happiness)</code></pre>
<pre><code>## [1] 3</code></pre>
<div class="red">
<p><strong>Be careful</strong><br />
While we can make R treat this data is numeric, it is important to remember that it is actually measured on an <strong>ordinal</strong> scale.</p>
<p>For example, if the median falls <em>between</em> levels, R will tell us that the median is the mid-point:</p>
<pre class="r"><code># for the values 2,1,2,3,4,5, 
# find the median
median(c(2,1,2,3,5,4))</code></pre>
<pre><code>## [1] 2.5</code></pre>
<p>But because our data is ordinal, then we know that 2.5 is not a valid response.</p>
</div>
<p>We can also use functions such as <code>min()</code> and <code>max()</code> to find the minimum and maximum values:</p>
<pre class="r"><code># inside the &quot;psych_survey&quot; dataframe, take ($) the &quot;happiness&quot; variable,
# and find the minimum value
min(psych_survey$happiness)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="r"><code># and find the maximum value
max(psych_survey$happiness)</code></pre>
<pre><code>## [1] 5</code></pre>
</div>
<div id="cumulative-percentages-quartiles" class="section level2 unnumbered">
<h2>Cumulative percentages, Quartiles</h2>
<p>In calculating the median, we are going beyond talking about the <strong>relative frequencies</strong> (i.e., the percentage in each category), to talking about the <strong>cumulative percentage.</strong></p>
<div class="yellow">
<p><strong>Cumulative percentage</strong></p>
<p>Cumulative percentages are another way of expressing a frequency distribution.<br />
They are the <strong>successive addition of percentages</strong> in each category. For example, the cumulative percentage for the 3rd category is the percentage of respondents in the 1st, 2nd and 3rd category:</p>
<table>
<colgroup>
<col width="11%" />
<col width="20%" />
<col width="23%" />
<col width="21%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Category</th>
<th align="right">Frequency count (n)</th>
<th align="right">Relative frequency (%)</th>
<th align="right">Cumulative frequency</th>
<th align="right">Cumulative percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Response 1</td>
<td align="right">10</td>
<td align="right">13.33333</td>
<td align="right">10</td>
<td align="right">13.33333</td>
</tr>
<tr class="even">
<td align="left">Response 2</td>
<td align="right">10</td>
<td align="right">13.33333</td>
<td align="right">20</td>
<td align="right">26.66667</td>
</tr>
<tr class="odd">
<td align="left">Response 3</td>
<td align="right">20</td>
<td align="right">26.66667</td>
<td align="right">40</td>
<td align="right">53.33333</td>
</tr>
<tr class="even">
<td align="left">Response 4</td>
<td align="right">25</td>
<td align="right">33.33333</td>
<td align="right">65</td>
<td align="right">86.66667</td>
</tr>
<tr class="odd">
<td align="left">Response 5</td>
<td align="right">10</td>
<td align="right">13.33333</td>
<td align="right">75</td>
<td align="right">100.00000</td>
</tr>
</tbody>
</table>
</div>
<p>We saw before how we can calculate the proportions/percentages in each category:<br />
( <strong>Note:</strong> We multiply by 100 here to turn the proportion into a percentage)</p>
<pre class="r"><code># take the &quot;psych_survey&quot; dataframe %&gt;%
# count() the values in the &quot;happiness&quot; variable (creates an &quot;n&quot; column), and
# from there, &#39;mutate&#39; such that there is a variable called &quot;percent&quot; which
# has the values of the &quot;n&quot; variable divided by the sum of the &quot;n&quot; variable.
psych_survey %&gt;%
  count(happiness) %&gt;%
  mutate(
    percent = n/sum(n)*100
  )</code></pre>
<pre><code>## # A tibble: 5 x 3
##   happiness     n percent
##       &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;
## 1         1     6    8.11
## 2         2    13   17.6 
## 3         3    27   36.5 
## 4         4    21   28.4 
## 5         5     7    9.46</code></pre>
<p>We can add another variable, and make it the cumulative percentage, by using the <code>cumsum()</code> function.</p>
<pre class="r"><code># take the &quot;psych_survey&quot; dataframe %&gt;%
# count() the values in the &quot;happiness&quot; variable (creates an &quot;n&quot; column), and
# from there, &#39;mutate&#39; such that there is a variable called &quot;percent&quot; which
# has the values of the &quot;n&quot; variable divided by the sum of the &quot;n&quot; variable,
# and also make a variable called &quot;cumulative_percent&quot; which is the 
# successive addition of the values in the &quot;percent&quot; variable
psych_survey %&gt;% 
  count(happiness) %&gt;% 
  mutate(
    percent = n/sum(n)*100,
    cumulative_percent = cumsum(percent)
  )</code></pre>
<pre><code>## # A tibble: 5 x 4
##   happiness     n percent cumulative_percent
##       &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;              &lt;dbl&gt;
## 1         1     6    8.11               8.11
## 2         2    13   17.6               25.7 
## 3         3    27   36.5               62.2 
## 4         4    21   28.4               90.5 
## 5         5     7    9.46             100</code></pre>
<div class="optional-begin">
Optional extra. Click the plus to expand →<span id="opt-start-15" class="fa fa-plus optional-icon clickable" onclick="toggle_visibility(&#39;opt-body-15&#39;, &#39;opt-start-15&#39;)"></span>
</div>
<div id="opt-body-15" class="optional-body" style="display: none;">
<p>Think about why this will not work:</p>
<pre class="r"><code>psych_survey %&gt;% 
  count(happiness) %&gt;% 
  mutate(
    cumulative_percent = cumsum(percent),
    percent = n/sum(n)*100
  )</code></pre>
<p style="color:red">
Error: object ‘percent’ not found
</p>
<p><strong>Answer:</strong> Inside the <code>mutate()</code> function, we are trying to assign the <em>cumulative_percent</em> variable based on the values of the <em>percent</em> variable. But in the code above, <em>percent</em> gets defined <strong>after</strong> <em>cumulative_percent</em>, and so it will not work. Hence the error message (“percent not found”).</p>
</div>
<p class="optional-end">
</p>
<p>While the <strong>median</strong> splits the data in two (50% either side), you will often see data being split into four equal blocks.<br />
The points which divide the four blocks are known as <strong>quartiles</strong>.</p>
<div class="yellow">
<p><strong>Quartiles</strong></p>
<p>Quartiles are the points in rank-ordered data below which falls 25%, 50%, and 75% of the data.</p>
<ul>
<li>The first quartile is the first category for which the cumulative percentage is <span class="math inline">\(\geq 25\%\)</span>.<br />
</li>
<li>The median is the first category for which the cumulative percentage is <span class="math inline">\(\geq 50\%\)</span>.<br />
</li>
<li>The third quartile is the first category for which the cumulative percentage is <span class="math inline">\(\geq 75\%\)</span>.</li>
</ul>
</div>
<p>By looking at the quartiles, it gives us an idea of <em>how spread out the data is</em>.<br />
As an example, if we had 10 categories <em>A, B, C, D, E, F, G, H, I, J</em>, and we knew that:</p>
<ul>
<li><span class="math inline">\(Q_1\)</span> (the <span class="math inline">\(1^{st}\)</span> quartile) = <em>G</em>,</li>
<li><span class="math inline">\(Q_2\)</span> (the <span class="math inline">\(2^{nd}\)</span> quartile, the <strong>median</strong>) = <em>H</em>,</li>
<li><span class="math inline">\(Q_3\)</span> (the <span class="math inline">\(3^{rd}\)</span> quartile) = <em>H</em>,</li>
</ul>
<p>This tells us that the first 25% of the data falls in one of the categories from <em>A</em> to <em>G</em> (quite a large range), the second 25% falls in categories <em>G</em> and <em>H</em> (a small range), and the third 25% of the data falls entirely in category <em>H</em>.<br />
So a lot of the data is between <em>G</em> and <em>H</em>, with the data being more sparse in the lower and higher categories.</p>
<div class="frame">
<p><strong>Looking ahead to numeric data</strong></p>
<p>We will talk about quartiles in numeric data too, where we commonly use the <em>difference</em> between the first and third quartile as a measure of how spread out the data are. This gets known as the <strong>inter-quartile range (IQR).</strong></p>
</div>
</div>
<div id="visualising-1" class="section level2 unnumbered">
<h2>Visualising</h2>
<p>We can visualise ordered categorical data in the same way we did for unordered.<br />
First we save our frequencies/percentages as a new object:</p>
<pre class="r"><code>freq_table2 &lt;- psych_survey %&gt;%
  count(happiness) %&gt;%
  mutate(
    percent = n/sum(n)*100
  )</code></pre>
<p>Then we give that object to our <strong>ggplot</strong> code, with the appropriate <code>aes()</code> mappings:</p>
<pre class="r"><code># make a ggplot with the object &quot;freq_table2&quot;. 
# on the x axis put the possible values in the &quot;happiness&quot; variable,
# on the y axis put the possible values in the &quot;n&quot; variable.
# add columns for each entry in the data. 
ggplot(data = freq_table2, aes(x = happiness, y = percent)) + 
  geom_col()</code></pre>
<p><img src="02_categorical_files/figure-html/unnamed-chunk-43-1.png" width="672" /></p>
<hr />
</div>
</div>
<div id="glossary" class="section level1">
<h1>Glossary</h1>
<ul>
<li><strong>distribution:</strong> How often different possible values in a variable occur.</li>
<li><strong>frequency:</strong> Number of occurrences (count) in a given response value.</li>
<li><strong>relative frequency:</strong> Percentage/proportion of occurrences in a given response value.</li>
<li><strong>cumulative percentage:</strong> Percentage of occurrences in <em>or below</em> a given reponse value (requires ordered data).</li>
<li><strong>mode:</strong> Most common value.</li>
<li><strong>median:</strong> Middle value.
<br><br></li>
<li><code>%&gt;%</code> Takes the output of whatever is on the LHS and gives it as the input of whatever is on the RHS.</li>
<li><code>count()</code> Counts the number of occurrences of each unique value in a variable.</li>
<li><code>mutate()</code> Used to add variables to the dataframe, or modify existing variables.</li>
<li><code>min()</code> Returns the minimum value of a variable.</li>
<li><code>max()</code> Returns the maximum value of a variable.</li>
<li><code>median()</code> Returns the median value of a variable.</li>
<li><code>ggplot()</code> Creates a plot. Takes <code>data=</code> and a set of mappings <code>aes()</code> from the data to properties of the plot (e.g., x/y axes, colours).</li>
<li><code>geom_col()</code> Adds columns to a ggplot.</li>
</ul>
<hr />
</div>
<div id="exercises" class="section level1">
<h1>Exercises</h1>
<div class="question-begin">
Question 1
</div>
<div class="question-body">
<p>Open a new Rmarkdown document for this set of exercises.</p>
<p><strong>File &gt; New File &gt; R Markdown..</strong></p>
<p>In your first code-chunk, load the <em>tidyverse</em> packages with the following command:</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<p>Make sure you run the chunk.</p>
<p class="question-end">
</p>
</div>
<hr />
<div class="question-begin">
Question 2
</div>
<div class="question-body">
<p>We’re going to use the data on popular passwords which we saw in the previous lab.<br />
The data is available online at <a href="https://uoepsy.github.io/data/passworddata.csv" class="uri">https://uoepsy.github.io/data/passworddata.csv</a>.</p>
<p>Read in the data from the link.</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution <span id="sol-start-16" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-16&#39;, &#39;sol-start-16&#39;)"></span>
</div>
<div id="sol-body-16" class="solution-body" style="display: none;">
<pre class="r"><code>pwords &lt;- read_csv(&quot;https://uoepsy.github.io/data/passworddata.csv&quot;)</code></pre>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 3
</div>
<div class="question-body">
<p>Produce a table of frequencies and relative frequencies (percentages/proportions) of different types of passwords</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution <span id="sol-start-17" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-17&#39;, &#39;sol-start-17&#39;)"></span>
</div>
<div id="sol-body-17" class="solution-body" style="display: none;">
<pre class="r"><code># assigned to an object called &quot;type_freqs&quot; : 
  # take the &quot;pwords&quot; dataframe %&gt;%
  # count() the values in the &quot;type&quot; variable (creates an &quot;n&quot; column), and
  # from there, &#39;mutate&#39; such that there is a variable called &quot;percent&quot; which
  # has the values of the &quot;n&quot; variable divided by the sum of the &quot;n&quot; variable,
type_freqs &lt;- pwords %&gt;% 
  count(type) %&gt;%
  mutate(
    percent = n/sum(n)*100
  )

type_freqs</code></pre>
<pre><code>## # A tibble: 10 x 3
##    type                    n percent
##    &lt;chr&gt;               &lt;int&gt;   &lt;dbl&gt;
##  1 animal                 29     5.8
##  2 cool-macho             79    15.8
##  3 fluffy                 44     8.8
##  4 food                   11     2.2
##  5 name                  183    36.6
##  6 nerdy-pop              30     6  
##  7 password-related       15     3  
##  8 rebellious-rude        11     2.2
##  9 simple-alphanumeric    61    12.2
## 10 sport                  37     7.4</code></pre>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 4
</div>
<div class="question-body">
<p>What is the mode of password type? and what is the least common?</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution <span id="sol-start-18" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-18&#39;, &#39;sol-start-18&#39;)"></span>
</div>
<div id="sol-body-18" class="solution-body" style="display: none;">
<p>The Mode (most common) of password type is “name”, with 36.6% of passwords falling into this category.<br />
Password categories of “food” and “rebellious-rude” are the least common (2.2% in each category).</p>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 5
</div>
<div class="question-body">
<p>Produce a plot of the frequencies of password types:</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution <span id="sol-start-19" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-19&#39;, &#39;sol-start-19&#39;)"></span>
</div>
<div id="sol-body-19" class="solution-body" style="display: none;">
<p>We have added the line <code>scale_x_discrete(labels = abbreviate)</code> here, which will make abbreviate the labels on the x-axis!</p>
<pre class="r"><code># make a ggplot with the data &quot;type_freqs&quot;, and map the &quot;type&quot; variable
# to the x axis, and the &quot;n&quot; variable to the y axis. 
# add a geom_cols for each entry in the data
# abbreviate the labels on the x axis
ggplot(data = type_freqs, aes(x = type, y = n)) +
  geom_col()+
  scale_x_discrete(labels = abbreviate)</code></pre>
<p><img src="02_categorical_files/figure-html/unnamed-chunk-47-1.png" width="672" /></p>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 6
</div>
<div class="question-body">
<p>In the previous exercises using this dataset we worked with the <em>strength_cat</em> variable, and made R treat it as an ordered categorical variable (<em>weak</em> &lt; <em>medium</em> &lt; <em>strong</em>).<br />
The <em>strength</em> variable is also an ordered categorical variable, but contains more levels, measuring password strength on values from 1 to 10.</p>
<p>Produce a table showing the frequencies and cumulative percentages of the different strength levels of passwords in the data</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution <span id="sol-start-20" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-20&#39;, &#39;sol-start-20&#39;)"></span>
</div>
<div id="sol-body-20" class="solution-body" style="display: none;">
<pre class="r"><code># assigned to an object called &quot;strength_table&quot; : 
  # take the &quot;pwords&quot; dataframe %&gt;%
  # count() the values in the &quot;strength&quot; variable (creates an &quot;n&quot; column), and
  # from there, &#39;mutate&#39; such that there is a variable called &quot;percent&quot; which
  # has the values of the &quot;n&quot; variable divided by the sum of the &quot;n&quot; variable,
  # and also make a variable called &quot;cumulative_percent&quot; which is the 
  # successive addition of the values in the &quot;percent&quot; variable
strength_table &lt;- pwords %&gt;% 
  count(strength) %&gt;% 
  mutate(
    percent = n/sum(n)*100,
    cumulative_percent = cumsum(percent)
  )

# show the object called &quot;strength_table&quot;
strength_table</code></pre>
<pre><code>## # A tibble: 10 x 4
##    strength     n percent cumulative_percent
##       &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;              &lt;dbl&gt;
##  1        1    35     7                  7  
##  2        2     2     0.4                7.4
##  3        3     7     1.4                8.8
##  4        4    29     5.8               14.6
##  5        5    17     3.4               18  
##  6        6    76    15.2               33.2
##  7        7   101    20.2               53.4
##  8        8   162    32.4               85.8
##  9        9    46     9.2               95  
## 10       10    25     5                100</code></pre>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 7
</div>
<div class="question-body">
<p>From looking <em>only</em> at the table you made in the previous question, what is the median strength level?</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution <span id="sol-start-21" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-21&#39;, &#39;sol-start-21&#39;)"></span>
</div>
<div id="sol-body-21" class="solution-body" style="display: none;">
<p>The median password strength is 7/10.<br />
Remember, it is the first level for which the cumulative percentage is <span class="math inline">\(\geq 50\%\)</span>.</p>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 8
</div>
<div class="question-body">
<p>Check that your answer is correct by passing the <em>strength</em> variable to the <code>median()</code> function.
Find also the minimum and maximum values.</p>
<p><strong>Note:</strong> Did you make the <em>strength</em> variable a factor in one of the earlier questions? If so, <code>median(pwords$strength)</code> will not work, because <code>median()</code> needs it to be numeric.<br />
If needed, you can convert the variable back to numeric:<br />
<code>pwords$strength &lt;- as.numeric(pwords$strength)</code>.<br />
Or simply do so temporarily:<br />
<code>median(as.numeric(pwords$strength))</code></p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution <span id="sol-start-22" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-22&#39;, &#39;sol-start-22&#39;)"></span>
</div>
<div id="sol-body-22" class="solution-body" style="display: none;">
<pre class="r"><code># for the &quot;strength&quot; variable in the &quot;pwords&quot; dataframe,
# show the median value
median(pwords$strength)</code></pre>
<pre><code>## [1] 7</code></pre>
<pre class="r"><code>#find min and max
min(pwords$strength)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="r"><code>max(pwords$strength)</code></pre>
<pre><code>## [1] 10</code></pre>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 9
</div>
<div class="question-body">
<p>Create a plot of the percentages of passwords in each strength level</p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution <span id="sol-start-23" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-23&#39;, &#39;sol-start-23&#39;)"></span>
</div>
<div id="sol-body-23" class="solution-body" style="display: none;">
<pre class="r"><code># make a ggplot with the data &quot;strength_table&quot;, and map the &quot;strength&quot; variable
# to the x axis, and the &quot;percent&quot; variable to the y axis. 
# add a geom_cols for each entry in the data
# add title and edit the x and y axis names
# use the classic theme
ggplot(data = strength_table, aes(x = strength, y = percent)) + 
  geom_col()+
  labs(title = &quot;Relative frequencies of different password strengths&quot;, x = &quot;Password Strength&quot;, y = &quot;Percentage of passwords&quot;)+
  theme_classic()</code></pre>
<p><img src="02_categorical_files/figure-html/unnamed-chunk-50-1.png" width="672" /></p>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 10
</div>
<div class="question-body">
<p>Think back at the definition of quartiles.<br />
At what point is the fourth quartile?</p>
<ol style="list-style-type: lower-alpha">
<li>The maximum value<br />
</li>
<li>The first category for which the cumulative percentage is <span class="math inline">\(\geq 100\%\)</span>.<br />
</li>
<li>Both of the above</li>
</ol>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution <span id="sol-start-24" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-24&#39;, &#39;sol-start-24&#39;)"></span>
</div>
<div id="sol-body-24" class="solution-body" style="display: none;">
<p>Both!<br />
The first category for which the cumulative percentage is <span class="math inline">\(\geq 100\%\)</span> has to be the maximum, because only at the maximum will <span class="math inline">\(100\%\)</span> of the data fall below.</p>
</div>
<p class="solution-end">
</p>
<hr />
<div class="question-begin">
Question 11
</div>
<div class="question-body">
<p>Take a look at the two plots below. Why is one more useful than the other?
<img src="02_categorical_files/figure-html/unnamed-chunk-51-1.png" width="672" /></p>
<p class="question-end">
</p>
</div>
<div class="solution-begin">
Solution <span id="sol-start-25" class="fa fa-plus solution-icon clickable" onclick="toggle_visibility(&#39;sol-body-25&#39;, &#39;sol-start-25&#39;)"></span>
</div>
<div id="sol-body-25" class="solution-body" style="display: none;">
<p>Because the different response levels of the happiness variable have a natural ordering, it is much more useful to plot them in this order on the x-axis (the left-hand plot).<br />
Notice that this plot also begins to show a distinct <em>shape,</em> and we can see that only few of our respondents gave extreme responses (1 or 5), with more responding 2 or 4, and finally the most common response being 3.</p>
</div>
<p class="solution-end">
</p>
<div class="tocify-extend-page" data-unique="tocify-extend-page" style="height: 0;">

</div>
</div>

<link rel="stylesheet" href="https://uoepsy.github.io/assets/css/ccfooter.css" />
<div class="ccfooter"></div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
